This section discuss complexity of pain maps, and what may optimize the performance of the models. Furthermore, the results are discussed, whereas the highest performance value of the pain maps representations is evaluated. Finally, the performance according to the output, pain duration or pain intensity, is discussed.

\subsection*{Amount of pain maps}
A supervised deep learning model should use five thousand labeled data per category to obtain an acceptable performance \citep{Goodfellow2016}, whereas this study had a total number of pain maps (n=217) from uni- and bilateral PFP individuals. Based on the limited amount of pain maps, it was chosen to create more images by using a split body approach, where bilateral pain maps were split in two different pain maps. By using the split body approach and mirroring the pain to the right knee, it was assumed that pain duration and pain intensity were identical for both knees. Theoretically, the bilateral PFP may have occurred on one leg first, and afterwards have spreaded to the other knee, which could affect the pain duration. Furthermore, individuals with bilateral pain may feel more pain on one of the knees. This may have resulted in incorrected labeled pain maps, which could have an influence on the performance accuracy of the models.

\subsection*{Classification of pain maps}
The $R^2$-values of the linear correlations were close to zero represents nonlinearity, meaning that there are no simple correlation with the outputs, pain duration and pain intensity. Thus, a more complex model, such as deep learning model, is used to investigate the complexity of pain maps.
The deep learning models could classify both pain duration and pain intensity classes in the morphology-representation. Location-representation, despite of the given input, classified only according to the higher intervals (pain duration above 36 months and pain intensity above 8 VAS), and it could not classify according to the lower classes (pain duration below 12 month and pain intensity below 4 VAS). It can be observed in the confusion matrices of location-representation, where sensitivity of both inputs were equal to 0\% (thought of putting the image of conf matrix). Combined-representation, classified according to the pain duration, found the patterns in both classes, but overall accuracy was 55.56\%, which could be caused by including the knee regions as one of the features.
Based on the results, the accuracy of the representations containing the morphology, scored higher compared to location-representation. It can be discussed, that the morphology can be considered to be a better classification feature. Morphology scored 69.44\% and 60\% while location-representation scored 35.29\% and 60.71\%, reflecting pain duration and pain intensity.
Low score in location-representation is considered to be reflected as a result of imbalance between the duration intervals, as it could be also influenced with the deeper optimization. 
The low score could also be the result of the simplification of the location of the pain, that leads to the models not being able to find a pattern between the input and target output.  





\subsubsection*{Threshold } 
The location-representation had a 5\% threshold that defined when a pain region was considered active according to the amount of pain. It can be discussed whether this threshold was suitable, since adding the threshold resulted in loss of pain maps that had a very small amount of pain. However, a smaller threshold or no threshold would give active pain regions that might only contain very few pain pixels. Since PFP is described as hard to localize, it is unknown how precise the individuals have drawn their pain, thus every pixel should maybe not be taken into account. 
The combined-representation did not have a threshold for defining active pain regions, because the morphology of the pain would be affected when discarding small pain regions. 
This representation is thereby not a complete combination of the morphology- and location-representations. 

\subsection*{Classification according to output}
Generalization performance of the six models showed that pain duration was a more robust classifier compared to pain intensity. As a result, both classes of pain duration can be predicted in the morphology- and combined-representations, while classes representing pain intensity can be classified only with the morphology-representation.
It could be discussed that the lower results of pain intensity against the pain duration, is a reason of that, the pain intensity is a subjective statement and is considered as multifactorial, while pain duration is an objective parameter, and it is thereby expected that the models have a higher performance when classifying pain maps according to pain duration. 
Given the fact that the sensitivity for multiple models was 0\%, the accuracy becomes a reflection of the imbalance between classes in the test set, e.g. if the test subset contained 75\% of the class with high pain intensity, the accuracy would also be 75\%. This may also be a result of the relative small dataset used in this study.  
It is unknown whether the reason for the sensitivity to be 0\% is caused by that the models cannot find patterns according to the low valued pain intensity, or if it is a “fault” in the model that classifies all inputs as high pain intensity.  


\subsection*{Optimization of deep learning models}
Optimization of the models is often a time-consuming process based on the picks of the multiple hyperparameters and different algorithms which could be implemented during the development of the models.  
Activation functions were chosen based on the literature, where ReLU should be used for convolutional and fully connected layers in neural network models, and sigmoid should be picked for binary output layer. However, there was always a way for additional testing with softmax or linear activation function to increase the generalization performance. 
The dropout algorithm was set to the default 0.5 and used in all models between the fully connected layers to turn off the amount of nodes and prevent the models from overfitting. Additional values could have been tested in order to find most optimal for the every model.
Unfortunately, the lack of the time and time-consuming reruns during every optimization cycles, lead to use the most popular hyperparameters as there were many other which were tested with grid search 10-fold cross validation.
A further optimization of the models may be found according to the input parameters, to which more physical, and psychological features may increase the performance accuracy. Physical features, such as age, height, weight, physical activity niveau, and sport activity, may influence pain duration or pain intensity. Age could be a relevant feature since the perceived pain is dependent on the individual’s personality and character. Younger individuals may feel more pain because of a new and strange pain, than older individuals which have had PFP for a longer period of time. In addition older individuals may feel more pain because of the phenomenon central sentization, which in some cases result in widespread pain. The physical activity niveau, and sport may increase the pain intensity for some individuals because of the patellofemoral loaded activity. Psychological factors are an important feature to consider, because of its influence on pain intensity. Pain is multifactorial and can be influenced of psychosocial factors \citep{Roos2003}. Furthermore, other pain as hip pain may influence the PFP.
It may be considered to include either pain duration or pain intensity as an input to classify according to either pain intensity or pain duration, because of the possibility that there is a correlation between the two.
A limitation for this study was the available computational power for training of the model to which an improvement in performance may be found through more powerful systems or services.
